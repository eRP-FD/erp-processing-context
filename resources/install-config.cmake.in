#
# (C) Copyright IBM Deutschland GmbH 2021, 2024
# (C) Copyright IBM Corp. 2021, 2024
#
# non-exclusively licensed to gematik GmbH
#

# Values imported from CMakeLists.txt:
set(CMAKE_CURRENT_SOURCE_DIR @CMAKE_CURRENT_SOURCE_DIR@)
set(ERP_RUNTIME_RESOURCE_DIR @ERP_RUNTIME_RESOURCE_DIR@)

set(ERP_CONFIGURATION_FILE @ERP_CONFIGURATION_FILE@)
set(ERP_CONFIGURATION_DEVEL_FILE @ERP_CONFIGURATION_DEVEL_FILE@)
set(ERP_CONFIGURATION_MEDICATION_EXPORTER_FILE @ERP_CONFIGURATION_MEDICATION_EXPORTER_FILE@)

set(ERP_CONFIGURATION_IN @ERP_CONFIGURATION_IN@)
set(ERP_CONFIGURATION_DEVEL_IN @ERP_CONFIGURATION_DEVEL_IN@)
set(ERP_CONFIGURATION_MEDICATION_EXPORTER_IN @ERP_CONFIGURATION_MEDICATION_EXPORTER_IN@)

# Values used in *config.json.in
set(ERP_SCHEMA_DIR "${ERP_RUNTIME_RESOURCE_DIR}/schema/")
set(ERP_FHIR_RESOURCE_DIR "${ERP_RUNTIME_RESOURCE_DIR}/fhir/")
set(ERP_ZSTD_DICTIONARY_DIR "${ERP_RUNTIME_RESOURCE_DIR}/zstd/")

message(STATUS "Generate: ${ERP_CONFIGURATION_FILE}")
configure_file(${ERP_CONFIGURATION_IN} ${ERP_CONFIGURATION_FILE} @ONLY)

message(STATUS "Generate: ${ERP_CONFIGURATION_MEDICATION_EXPORTER_FILE}")
configure_file(${ERP_CONFIGURATION_MEDICATION_EXPORTER_IN} ${ERP_CONFIGURATION_MEDICATION_EXPORTER_FILE} @ONLY)

if (NOT "${ERP_CONFIGURATION_DEVEL_IN}" STREQUAL "")
    configure_file(${ERP_CONFIGURATION_DEVEL_IN} ${ERP_CONFIGURATION_DEVEL_FILE} @ONLY)
endif()
